# PayPal æŸ¥çœ‹æ”¶æ¬¾è®°å½•æŒ‡å—

## ğŸ“Š å¦‚ä½•æŸ¥çœ‹PayPalæ²™ç®±æ”¶æ¬¾

### æ–¹æ³•1ï¼šé€šè¿‡å•†å®¶æµ‹è¯•è´¦æˆ·æŸ¥çœ‹ï¼ˆæ¨èï¼‰

#### Step 1: è·å–å•†å®¶è´¦æˆ·ä¿¡æ¯

1. **è®¿é—® PayPal Developer Dashboard**
   ```
   https://developer.paypal.com/dashboard/accounts
   ```

2. **æ‰¾åˆ°å•†å®¶ï¼ˆBusinessï¼‰æµ‹è¯•è´¦æˆ·**
   - åœ¨ "Sandbox test accounts" åˆ—è¡¨ä¸­
   - ç±»å‹æ˜¯ **"BUSINESS"** çš„è´¦æˆ·
   - é‚®ç®±æ ¼å¼ï¼š`sb-xxxxx@business.example.com`

3. **æŸ¥çœ‹å•†å®¶è´¦æˆ·ç™»å½•ä¿¡æ¯**
   - ç‚¹å‡»è´¦æˆ·å³ä¾§çš„ **"..."** 
   - é€‰æ‹© **"View/Edit account"**
   - è®°å½•ï¼š
     - Email: `sb-xxxxx@business.example.com`
     - Password: ç‚¹å‡» "Show" æŸ¥çœ‹ï¼ˆæˆ–é‡ç½®å¯†ç ï¼‰

---

#### Step 2: ç™»å½•å•†å®¶è´¦æˆ·æŸ¥çœ‹æ”¶æ¬¾

1. **æ‰“å¼€ PayPal æ²™ç®±ç™»å½•é¡µ**
   ```
   https://www.sandbox.paypal.com
   ```

2. **ä½¿ç”¨å•†å®¶æµ‹è¯•è´¦æˆ·ç™»å½•**
   - Email: `sb-xxxxx@business.example.com`
   - Password: ä½ çš„å•†å®¶è´¦æˆ·å¯†ç 

3. **æŸ¥çœ‹æ”¶æ¬¾è®°å½•**
   - ç™»å½•åä¼šçœ‹åˆ° PayPal å•†å®¶åå°
   - ç‚¹å‡»é¡¶éƒ¨çš„ **"Activity"** æˆ– **"æ´»åŠ¨"**
   - ä½ ä¼šçœ‹åˆ°æ‰€æœ‰äº¤æ˜“è®°å½•ï¼š

   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Activity                                    [Filter]   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚  Dec 23, 2025                                           â”‚
   â”‚  âœ… Payment received from sb-buyer@personal.example.com â”‚
   â”‚     Starter Monthly - SaltMine                          â”‚
   â”‚     +$0.01 USD                                          â”‚
   â”‚     Status: Completed                                   â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   â”‚  Dec 23, 2025                                           â”‚
   â”‚  âœ… Payment received from sb-buyer@personal.example.com â”‚
   â”‚     Professional Monthly - SaltMine                     â”‚
   â”‚     +$12.00 USD                                         â”‚
   â”‚     Status: Completed                                   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```

4. **æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯**
   - ç‚¹å‡»ä»»æ„äº¤æ˜“
   - å¯ä»¥çœ‹åˆ°ï¼š
     - Transaction ID
     - ä¹°å®¶ä¿¡æ¯
     - æ”¯ä»˜é‡‘é¢
     - æ‰‹ç»­è´¹
     - å‡€æ”¶å…¥

---

### æ–¹æ³•2ï¼šé€šè¿‡ Developer Dashboard æŸ¥çœ‹ï¼ˆå¿«é€ŸæŸ¥çœ‹ï¼‰

1. **è®¿é—® Transaction Search**
   ```
   https://developer.paypal.com/dashboard/
   ```

2. **å·¦ä¾§èœå•**
   - ç‚¹å‡» **"Testing Tools"** â†’ **"Sandbox"** â†’ **"API calls"**
   - æˆ–è€…åœ¨æŸäº›ç•Œé¢ä¸­é€‰æ‹© **"Transaction search"**

3. **æŸ¥çœ‹æœ€è¿‘çš„æµ‹è¯•äº¤æ˜“**
   - ä¼šåˆ—å‡ºæ‰€æœ‰æ²™ç®±ç¯å¢ƒçš„äº¤æ˜“
   - åŒ…æ‹¬çŠ¶æ€ã€é‡‘é¢ã€æ—¶é—´ç­‰

---

### æ–¹æ³•3ï¼šé€šè¿‡ API è°ƒç”¨æŸ¥çœ‹ï¼ˆå¼€å‘è€…æ–¹å¼ï¼‰

å¦‚æœä½ æƒ³åœ¨ä»£ç ä¸­æŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨PayPal APIï¼š

```bash
# è·å–è®¿é—®ä»¤ç‰Œ
curl -v https://api-m.sandbox.paypal.com/v1/oauth2/token \
  -H "Accept: application/json" \
  -H "Accept-Language: en_US" \
  -u "CLIENT_ID:SECRET" \
  -d "grant_type=client_credentials"

# æŸ¥è¯¢äº¤æ˜“
curl -v -X GET https://api-m.sandbox.paypal.com/v1/reporting/transactions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ACCESS_TOKEN"
```

---

## ğŸ’° æŸ¥çœ‹è´¦æˆ·ä½™é¢

### å•†å®¶è´¦æˆ·ä½™é¢

1. **ç™»å½•å•†å®¶è´¦æˆ·**ï¼ˆhttps://www.sandbox.paypal.comï¼‰
2. **æŸ¥çœ‹ä½™é¢**
   - åœ¨é¡µé¢é¡¶éƒ¨ä¼šæ˜¾ç¤ºå½“å‰ä½™é¢
   - ä¾‹å¦‚ï¼š`$5,012.01 USD`

### ä¹°å®¶è´¦æˆ·ä½™é¢

1. **ç™»å½•ä¹°å®¶è´¦æˆ·**ï¼ˆhttps://www.sandbox.paypal.comï¼‰
2. **æŸ¥çœ‹ä½™é¢**
   - æ”¯ä»˜åä½™é¢åº”è¯¥å‡å°‘
   - ä¾‹å¦‚ï¼šä» $100.00 å˜æˆ $99.99

---

## ğŸ” éªŒè¯æ”¯ä»˜æ˜¯å¦æˆåŠŸçš„å®Œæ•´æµç¨‹

### æ£€æŸ¥æ¸…å•ï¼š

#### 1. ä¹°å®¶ç«¯ï¼ˆPersonal Accountï¼‰
- [ ] ç™»å½•ä¹°å®¶æµ‹è¯•è´¦æˆ·
- [ ] æŸ¥çœ‹ "Activity"
- [ ] åº”è¯¥çœ‹åˆ° "Payment sent" è®°å½•
- [ ] é‡‘é¢å‰é¢æ˜¯ **"-"**ï¼ˆæ”¯å‡ºï¼‰
- [ ] çŠ¶æ€æ˜¯ "Completed"

#### 2. å•†å®¶ç«¯ï¼ˆBusiness Accountï¼‰
- [ ] ç™»å½•å•†å®¶æµ‹è¯•è´¦æˆ·
- [ ] æŸ¥çœ‹ "Activity"
- [ ] åº”è¯¥çœ‹åˆ° "Payment received" è®°å½•
- [ ] é‡‘é¢å‰é¢æ˜¯ **"+"**ï¼ˆæ”¶å…¥ï¼‰
- [ ] çŠ¶æ€æ˜¯ "Completed"

#### 3. ä½ çš„åº”ç”¨æ•°æ®åº“
- [ ] æŸ¥çœ‹ `Payment` è¡¨
- [ ] åº”è¯¥æœ‰æ–°çš„æ”¯ä»˜è®°å½•
- [ ] çŠ¶æ€æ˜¯ "COMPLETED"
- [ ] ç”¨æˆ·ä¼šå‘˜ç­‰çº§å·²å‡çº§

#### 4. ç”¨æˆ·ä¼šå‘˜çŠ¶æ€
- [ ] ç™»å½•ä½ çš„ç½‘ç«™
- [ ] è®¿é—® Dashboard
- [ ] ä¼šå‘˜ç­‰çº§å·²æ›´æ–°ä¸º PREMIUM
- [ ] é…é¢é™åˆ¶å·²æå‡

---

## ğŸ“¸ ç¤ºä¾‹æˆªå›¾æŒ‡å—

### å•†å®¶åå°åº”è¯¥çœ‹åˆ°çš„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¼ Business Account                     â”‚
â”‚  sb-merchant@business.example.com        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Available Balance: $5,012.01 USD        â”‚
â”‚                                          â”‚
â”‚  Recent Activity:                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  âœ… Dec 23, 2025                         â”‚
â”‚     Payment from sb-buyer@personal...    â”‚
â”‚     SaltMine - Starter Monthly           â”‚
â”‚     +$0.01 USD                           â”‚
â”‚     Fee: -$0.00 USD (æµ‹è¯•ç¯å¢ƒæ— æ‰‹ç»­è´¹)    â”‚
â”‚     Net: +$0.01 USD                      â”‚
â”‚     Status: âœ“ Completed                  â”‚
â”‚                                          â”‚
â”‚  Click for details â†’                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q1: æ‰¾ä¸åˆ°å•†å®¶è´¦æˆ·ï¼Ÿ
**A**: åœ¨ Developer Dashboard â†’ Sandbox Accounts ä¸­æŸ¥æ‰¾ Type ä¸º "BUSINESS" çš„è´¦æˆ·

### Q2: å•†å®¶è´¦æˆ·ç™»å½•ä¸äº†ï¼Ÿ
**A**: 
1. åœ¨ Developer Dashboard ä¸­ "View/Edit account"
2. ç‚¹å‡» "Change password" é‡ç½®å¯†ç 
3. è®¾ç½®ç®€å•å¯†ç å¦‚ `Merchant1234!`

### Q3: çœ‹ä¸åˆ°äº¤æ˜“è®°å½•ï¼Ÿ
**A**: 
- ç¡®è®¤æ”¯ä»˜æ˜¯å¦çœŸçš„æˆåŠŸï¼ˆæŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—ï¼‰
- ç¡®è®¤ç™»å½•çš„æ˜¯æ­£ç¡®çš„å•†å®¶è´¦æˆ·
- äº¤æ˜“å¯èƒ½æœ‰å‡ ç§’å»¶è¿Ÿï¼Œåˆ·æ–°é¡µé¢

### Q4: äº¤æ˜“çŠ¶æ€æ˜¯ Pendingï¼Ÿ
**A**: 
- å¯èƒ½æ˜¯æ”¯ä»˜æ•è·å¤±è´¥
- æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—ï¼ˆ`/api/payment/capture-order`ï¼‰
- æŸ¥çœ‹æ•°æ®åº“ Payment è¡¨çš„çŠ¶æ€

### Q5: æ‰‹ç»­è´¹æ˜¯å¤šå°‘ï¼Ÿ
**A**: 
- **æ²™ç®±ç¯å¢ƒ**ï¼šé€šå¸¸æ²¡æœ‰æ‰‹ç»­è´¹ï¼ˆ$0.00ï¼‰
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šPayPalæ”¶å–çº¦ 2.9% + $0.30 USD

---

## ğŸ¯ å¿«é€ŸéªŒè¯å‘½ä»¤

### éªŒè¯ä¹°å®¶è´¦æˆ·æ”¯ä»˜

```bash
# 1. ç™»å½•æ²™ç®±
https://www.sandbox.paypal.com

# 2. ä½¿ç”¨ä¹°å®¶è´¦æˆ·ç™»å½•
Email: sb-buyer@personal.example.com

# 3. æŸ¥çœ‹ Activity â†’ åº”è¯¥çœ‹åˆ° "Payment sent"
```

### éªŒè¯å•†å®¶è´¦æˆ·æ”¶æ¬¾

```bash
# 1. ç™»å½•æ²™ç®±
https://www.sandbox.paypal.com

# 2. ä½¿ç”¨å•†å®¶è´¦æˆ·ç™»å½•
Email: sb-merchant@business.example.com

# 3. æŸ¥çœ‹ Activity â†’ åº”è¯¥çœ‹åˆ° "Payment received"
```

---

## ğŸ“Š æ•°æ®åº“éªŒè¯

ä½ ä¹Ÿå¯ä»¥ç›´æ¥æŸ¥çœ‹æ•°æ®åº“ï¼š

```sql
-- æŸ¥çœ‹æœ€è¿‘çš„æ”¯ä»˜è®°å½•
SELECT 
  id,
  userId,
  provider,
  amount,
  currency,
  status,
  completedAt,
  createdAt
FROM Payment
ORDER BY createdAt DESC
LIMIT 10;

-- æŸ¥çœ‹ç”¨æˆ·ä¼šå‘˜çŠ¶æ€
SELECT 
  email,
  membershipType,
  membershipExpiresAt
FROM User
WHERE id = 'your-user-id';
```

---

## ğŸ‰ æˆåŠŸçš„æ ‡å¿—

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

- âœ… ä¹°å®¶è´¦æˆ·ï¼šæœ‰æ”¯å‡ºè®°å½•ï¼ˆ-$0.01ï¼‰
- âœ… å•†å®¶è´¦æˆ·ï¼šæœ‰æ”¶å…¥è®°å½•ï¼ˆ+$0.01ï¼‰
- âœ… æ•°æ®åº“ï¼šæœ‰å®Œæˆçš„æ”¯ä»˜è®°å½•
- âœ… ç”¨æˆ·ï¼šä¼šå‘˜ç­‰çº§å·²å‡çº§
- âœ… Dashboardï¼šæ˜¾ç¤ºæ–°çš„ä¼šå‘˜çŠ¶æ€

å®Œæˆæ”¯ä»˜åï¼Œæ•´ä¸ªæµç¨‹å°±æ‰“é€šäº†ï¼ğŸš€
